// مسئله: اعتبارسنجی پرانتزها، کروشه‌ها و آکولادها
// صورت مسئله:
// یک رشته شامل کاراکترهای (, ), {, }, [ و ] داده شده است. بررسی کنید که آیا این رشته معتبر است یا خیر. یک رشته معتبر است اگر:

// هر پرانتز/کروشه/آکولاد باز با همان نوع بسته شود.

// پرانتز/کروشه/آکولادها به ترتیب صحیح بسته شوند.

// هر کاراکتر بسته، یک کاراکتر باز متناظر از همان نوع داشته باشد.

// راه‌حل:
// برای حل این مسئله از استک (پشته) استفاده می‌کنیم:

// هر زمان به یک کاراکتر باز ((, {, [) برخورد کردیم، آن را در استک قرار می‌دهیم.

// هر زمان به یک کاراکتر بسته (), }, ]) برخورد کردیم، بررسی می‌کنیم که آیا آخرین عنصر استک، کاراکتر باز متناظر با آن است یا خیر.

// اگر بود، آن را از استک خارج می‌کنیم.

// اگر نبود، رشته نامعتبر است.

// در پایان اگر استک خالی باشد، رشته معتبر است؛ در غیر این صورت نامعتبر است.

function isValid(s: string): boolean {
  const stack: string[] = [];
  const pairs: { [key: string]: string } = {
    ")": "(",
    "}": "{",
    "]": "[",
  };

  for (const char of s) {
    if (char === "(" || char === "{" || char === "[") {
      stack.push(char);
    } else {
      const last = stack.pop();
      if (last !== pairs[char]) {
        return false;
      }
    }
  }

  return stack.length === 0;
}

// تست نمونه‌ها
console.log(isValid("()")); // true
console.log(isValid("()[]{}")); // true
console.log(isValid("(]")); // false
console.log(isValid("([])")); // true
